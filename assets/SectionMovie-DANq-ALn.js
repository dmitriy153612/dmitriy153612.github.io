import{d as w,e as h,o as n,f as c,w as s,a as o,i,m as g,n as T,g as M,s as C,_ as k,k as F,r as A,c as y,M as $,b as V,t as B,h as p,q as D,T as L,v as Y,x as R,y as N,z as O,A as U,B as P,p as z,j as E}from"./index-C3kk8aZu.js";import{P as b}from"./PrimaryBtn-pvJlHTP1.js";import{A as G}from"./AppTitle-B-AQ_6xn.js";import H from"./CircleBtn-DVExWQ4N.js";const j={class:"video-box",ref:"modalEl"},q=["src"],J=w({__name:"VideoModal",props:{trailerYouTubeId:{}},emits:["close"],setup(t,{emit:u}){const l=t,a=u,d=h(()=>`https://www.youtube.com/embed/${l.trailerYouTubeId}?&autoplay=1&rel=0`);function r(){a("close")}return(_,v)=>(n(),c(M(C),null,{default:s(()=>[o(T,{color:"dark",type:"video",onClose:r},{default:s(()=>[i("div",j,[o(H,{class:"video-box__btn-close",appearance:"video",onClick:r},{default:s(()=>[o(g,{"icon-name":"IconClose"})]),_:1}),i("iframe",{class:"video-box__video",src:d.value,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,q)],512)]),_:1})]),_:1}))}}),K=k(J,[["__scopeId","data-v-26db170f"]]),Q={class:"movie-content__text"},W={class:"movie-content__buttons-box"},X=w({__name:"MovieContent",props:{id:{},rating:{},year:{},genres:{},duration:{},title:{},text:{},trailerYouTubeId:{},isMovieLoading:{type:Boolean,default:!1},showBtnLike:{type:Boolean,default:!1},showBtnReload:{type:Boolean,default:!1},showBtnAbout:{type:Boolean,default:!0},isFavoriteMovie:{type:Boolean}},emits:["reload","toggleFavorite"],setup(t,{emit:u}){const l=t,a=F(),d=u,r=A(!1);function _(){d("toggleFavorite",l.id)}function v(e){a.setBtnOpenModal(e),r.value=!0}function f(){r.value=!1}return(e,m)=>(n(),y("div",{class:R(["movie-content",{"movie-content--section-descr":!e.showBtnAbout}])},[o($,{class:"movie-content__detail",rating:e.rating,year:e.year,genres:e.genres,duration:e.duration},null,8,["rating","year","genres","duration"]),o(G,{class:"movie-content__title",size:"l",component:"h1"},{default:s(()=>[V(B(e.title),1)]),_:1}),i("p",Q,B(e.text),1),i("div",W,[o(b,{class:"movie-content__btn-trailer",component:"button","btn-name":"Trailer","bg-color":"light",onClick:v}),e.showBtnAbout?(n(),c(b,{key:0,class:"movie-content__btn-about","btn-name":"About",component:"router-link","bg-color":"dark",to:{name:"MovieDetailPage",params:{id:l.id}}},null,8,["to"])):p("",!0),e.showBtnLike?(n(),c(b,{key:1,class:"movie-content__btn-like",checked:e.isFavoriteMovie,onClick:_},{replacedIcon:s(()=>[o(g,{"icon-name":"IconHeartFilled"})]),default:s(()=>[o(g,{"icon-name":"IconHeart"})]),_:1},8,["checked"])):p("",!0),e.showBtnReload?(n(),c(b,{key:2,class:"movie-content__btn-reload","show-spinner":e.isMovieLoading,"bg-color":"dark","aria-label":"show random movie",onClick:m[0]||(m[0]=D(S=>d("reload"),["prevent"]))},{default:s(()=>[o(g,{"icon-name":"IconReload"})]),_:1},8,["show-spinner"])):p("",!0)]),(n(),c(Y,{to:"body"},[o(L,{name:"fade"},{default:s(()=>[r.value?(n(),c(K,{key:0,"trailer-you-tube-id":e.trailerYouTubeId,onClose:f},null,8,["trailer-you-tube-id"])):p("",!0)]),_:1})]))],2))}}),Z=k(X,[["__scopeId","data-v-442b2447"]]),I=t=>(z("data-v-05ea068d"),t=t(),E(),t),x={class:"movie-sec"},ee={class:"movie-sec__inner"},oe={class:"movie-sec__background"},te={class:"movie-sec__background-inner"},ae={key:0,class:"movie-sec__background-inner-text"},ne=I(()=>i("div",{class:"movie-sec__min-height"},null,-1)),se=I(()=>i("div",{style:{"background-color":"red"}},null,-1)),ie=w({__name:"SectionMovie",props:{id:{},title:{},rating:{},year:{},genres:{},duration:{},text:{},trailerYouTubeId:{},backgroundUrl:{},isMovieLoading:{type:Boolean,default:!1},showBtnReload:{type:Boolean},showBtnAbout:{type:Boolean}},emits:["reload"],setup(t,{emit:u}){P(e=>({"4f7603b4":_.value}));const l=N(),a=O(),d=t,r=u,_=h(()=>`url(${d.backgroundUrl})`),v=h(()=>a.isFavoriteMovie(d.id));async function f(e){v.value?(a.addOrDelFavorite(e.toString()),await l.fetchDelMovieFromFavorites(e.toString())):(a.addOrDelFavorite(e.toString()),await l.fetchAddMovieToFavorite(e.toString())),a.fetchGetUserData()}return(e,m)=>(n(),y("section",x,[i("div",ee,[i("div",oe,[i("div",te,[e.backgroundUrl?p("",!0):(n(),y("span",ae," No Poster "))])]),ne,o(U,{class:"movie-sec__container"},{default:s(()=>[o(Z,{class:"movie-sec__content",id:e.id,rating:e.rating,year:e.year,genres:e.genres,duration:e.duration,title:e.title,text:e.text,trailerYouTubeId:e.trailerYouTubeId,isMovieLoading:e.isMovieLoading,"show-btn-like":M(a).userData!==null,"show-btn-reload":e.showBtnReload,"show-btn-about":e.showBtnAbout,"is-favorite-movie":v.value,onReload:m[0]||(m[0]=S=>r("reload")),onToggleFavorite:f},null,8,["id","rating","year","genres","duration","title","text","trailerYouTubeId","isMovieLoading","show-btn-like","show-btn-reload","show-btn-about","is-favorite-movie"]),se]),_:1})])]))}}),ue=k(ie,[["__scopeId","data-v-05ea068d"]]);export{ue as S};
