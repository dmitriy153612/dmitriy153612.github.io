import{d as p,y as N,o as s,c as n,a,w as l,i as m,F as A,z as $,A as k,T as B,N as F,q as T,n as D,B as P,C as M,D as V,_ as f,e as d,h as C,t as h,m as z,v as E,s as x,b as U,g as w}from"./index-BfTxmqvZ.js";import{A as q}from"./AppTitle-DIzbSxP6.js";import{P as G}from"./PrimaryBtn-CAI_RELy.js";import{A as H}from"./AdaptedCardList-CELaDinM.js";import"./CircleBtn-D_ORMc0h.js";function b(c){return`${c.charAt(0).toUpperCase()}${c.slice(1).toLowerCase()}`}const R={class:"tabs"},j={class:"tabs__control"},J=p({__name:"AppTabs",props:{tabs:{},checkedTab:{}},setup(c){const e=N(c.checkedTab);function r(t){e.value=t}return(t,v)=>(s(),n("div",R,[a(k,null,{default:l(()=>[m("ul",j,[(s(!0),n(A,null,$(t.tabs,(o,u)=>(s(),n("li",{class:"tabs__control-item",key:u},[a(F,{appearance:"tab","btn-name":o.btnName,checked:e.value===o.tabName,onClick:T(y=>r(o.tabName),["prevent"])},{default:l(()=>[a(D,{"icon-name":o.iconName},null,8,["icon-name"])]),_:2},1032,["btn-name","checked","onClick"])]))),128))])]),_:1}),a(B,{tag:"ul",class:"tabs__display-list"},{default:l(()=>[(s(!0),n(A,null,$(t.tabs,(o,u)=>P((s(),n("li",{class:"tabs__display",key:u},[M(t.$slots,o.tabName,{},void 0,!0)])),[[V,e.value===o.tabName]])),128))]),_:3})]))}}),K=f(J,[["__scopeId","data-v-7c5f0129"]]),O={class:"account-data"},Q={class:"account-data__cyrcle"},W={key:0,class:"account-data__icon-container"},X={key:1,class:"account-data__symbols"},Y={class:"account-data__title"},Z={class:"account-data__value"},tt=p({__name:"AccountData",props:{config:{}},setup(c){const i=c,e=d(()=>{var t;return((t=i.config)==null?void 0:t.iconName)||null}),r=d(()=>{var t;return((t=i.config)==null?void 0:t.twoSymbols)||null});return(t,v)=>(s(),n("div",O,[m("div",Q,[e.value?(s(),n("div",W,[a(D,{"icon-name":e.value},null,8,["icon-name"])])):C("",!0),r.value?(s(),n("div",X,h(r.value),1)):C("",!0)]),m("div",Y,h(t.config.title),1),m("div",Z,h(t.config.value),1)]))}}),et=f(tt,[["__scopeId","data-v-7228f617"]]),at={class:"account-settings"},st={class:"account-settings__list"},nt=p({__name:"AccountSettings",props:{configList:{},btnSpinner:{type:Boolean,default:!1}},emits:["logout"],setup(c,{emit:i}){const e=i;function r(){e("logout")}return(t,v)=>(s(),n("div",at,[m("ul",st,[(s(!0),n(A,null,$(t.configList,(o,u)=>(s(),n("li",{class:"account-settings__item",key:u},[a(et,{config:o},null,8,["config"])]))),128))]),a(G,{class:"account-settings__btn","btn-name":"Log out","bg-color":"light","show-spinner":t.btnSpinner,onClick:T(r,["prevent"])},null,8,["show-spinner"])]))}}),ot=f(nt,[["__scopeId","data-v-53c43559"]]),ct={class:"account"},it=p({__name:"SectionAccount",setup(c){const i=z(),e=E(),r=x(),t=d(()=>{var S,L;const _=(S=e.userData)==null?void 0:S.name,g=(L=e.userData)==null?void 0:L.surname;return _&&g?{fullName:`${b(_)} ${b(g)}`,firsLetters:`${b(_.charAt(0))}${b(g.charAt(0))}`}:{fullName:"",firsLetters:""}}),v=d(()=>{var _;return((_=e.userData)==null?void 0:_.email)||""}),o=N([{tabName:"favorite",btnName:"Favorite",iconName:"IconHeart"},{tabName:"settings",btnName:"Settings",iconName:"IconUser"}]),u=N("favorite"),y=d(()=>[{title:"Full name",value:t.value.fullName,twoSymbols:t.value.firsLetters},{title:"E-mail",value:v.value,iconName:"IconEmail"}]);async function I(){await e.fetchLogout(),i.replace({name:"MainPage"})}return(_,g)=>(s(),n("section",ct,[a(k,null,{default:l(()=>[a(q,{class:"account-page__title",component:"h1",size:"m"},{default:l(()=>[U(" My account ")]),_:1})]),_:1}),a(K,{class:"account-page__tabs",tabs:o.value,"checked-tab":u.value},{favorite:l(()=>[a(H,{movies:w(r).favoritesMovies,"card-appearance":"buttoned"},null,8,["movies"])]),settings:l(()=>[a(k,null,{default:l(()=>[a(ot,{"config-list":y.value,"btn-spinner":w(e).isLogoutLoading,onLogout:I},null,8,["config-list","btn-spinner"])]),_:1})]),_:1},8,["tabs","checked-tab"])]))}}),rt=f(it,[["__scopeId","data-v-5a270acb"]]),lt={class:"account-page"},ut=p({__name:"AccountPage",setup(c){return(i,e)=>(s(),n("main",lt,[a(rt)]))}}),vt=f(ut,[["__scopeId","data-v-9edf9645"]]);export{vt as default};
