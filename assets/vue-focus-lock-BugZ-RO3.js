import{d as Q,k as Ne,e as w,Q as Z,a3 as J,o as _,c as M,H as X,s as xe,n as we,a1 as _e,_ as Me,a4 as Se,r as V,Z as Ae,g as W,h as j,i as Te,a5 as ke,a6 as q}from"./index-DYUd0Jcw.js";const Ie=Q({__name:"AppOverlay",props:{color:{default:"light"},disabled:{type:Boolean,default:!1},type:{default:"defoult"},isHeaderVisible:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:n}){const t=Ne(),o=e,r=n,u=w(()=>o.disabled?{}:{"overlay--active":!o.disabled,"overlay--dark":o.color==="dark","overlay--light":o.color==="light","overlay--mobile-search":o.type==="search","overlay--video":o.type==="video","overlay--header":o.isHeaderVisible});function a(c){c.key==="Escape"&&r("close")}function l(){const c=t.buttonOpenModal;c&&_e(()=>{c.focus(),t.clearBtnOpenModal()})}return Z(()=>o.disabled,c=>{c?(document.body.style.overflowY="auto",document.removeEventListener("keydown",a)):(document.body.style.overflowY="hidden",document.addEventListener("keydown",a))},{immediate:!0}),J(()=>{document.body.style.overflowY="auto",document.removeEventListener("keydown",a),l()}),(c,i)=>(_(),M("div",{class:xe(["overlay",u.value]),onMousedown:i[0]||(i[0]=we(h=>r("close"),["self"]))},[X(c.$slots,"default",{},void 0,!0)],34))}}),yn=Me(Ie,[["__scopeId","data-v-76dd6212"]]);var F="data-focus-lock",ee="data-focus-lock-disabled",ne="data-no-focus-lock",te="data-autofocus-inside",oe="data-no-autofocus";const Ce=Object.freeze(Object.defineProperty({__proto__:null,FOCUS_ALLOW:ne,FOCUS_AUTO:te,FOCUS_DISABLED:ee,FOCUS_GROUP:F,FOCUS_NO_AUTOFOCUS:oe},Symbol.toStringTag,{value:"Module"}));var p=function(e){for(var n=Array(e.length),t=0;t<e.length;++t)n[t]=e[t];return n},S=function(e){return Array.isArray(e)?e:[e]},re=function(e){return Array.isArray(e)?e[0]:e},Ue=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(e,null);return!n||!n.getPropertyValue?!1:n.getPropertyValue("display")==="none"||n.getPropertyValue("visibility")==="hidden"},ue=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},ae=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Fe=function(e){return e.hasAttribute("inert")},Le=function(e,n){return!e||ae(e)||!Ue(e)&&!Fe(e)&&n(ue(e))},ie=function(e,n){var t=e.get(n);if(t!==void 0)return t;var o=Le(n,ie.bind(void 0,e));return e.set(n,o),o},Be=function(e,n){return e&&!ae(e)?Re(e)?n(ue(e)):!1:!0},ce=function(e,n){var t=e.get(n);if(t!==void 0)return t;var o=Be(n,ce.bind(void 0,e));return e.set(n,o),o},de=function(e){return e.dataset},De=function(e){return e.tagName==="BUTTON"},fe=function(e){return e.tagName==="INPUT"},le=function(e){return fe(e)&&e.type==="radio"},Pe=function(e){return!((fe(e)||De(e))&&(e.type==="hidden"||e.disabled))},Re=function(e){var n=e.getAttribute(oe);return![!0,"true",""].includes(n)},se=function(e){var n;return!!(e&&!((n=de(e))===null||n===void 0)&&n.focusGuard)},H=function(e){return!se(e)},Ge=function(e){return!!e},Ve=function(e,n){var t=Math.max(0,e.tabIndex),o=Math.max(0,n.tabIndex),r=t-o,u=e.index-n.index;if(r){if(!t)return 1;if(!o)return-1}return r||u},We=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},je=function(e,n,t){return p(e).map(function(o,r){var u=We(o);return{node:o,index:r,tabIndex:u}}).filter(function(o){return!n}).sort(Ve)},qe=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],ve=qe.join(","),me=function(e,n){return p((e.shadowRoot||e).children).reduce(function(t,o){return t.concat(o.matches(ve)?[o]:[],me(o))},[])},He=function(e,n){var t;return e instanceof HTMLIFrameElement&&!((t=e.contentDocument)===null||t===void 0)&&t.body?D([e.contentDocument.body]):[e]},D=function(e,n){return e.reduce(function(t,o){var r,u=me(o),a=(r=[]).concat.apply(r,u.map(function(l){return He(l)}));return t.concat(a,o.parentNode?p(o.parentNode.querySelectorAll(ve)).filter(function(l){return l===o}):[])},[])},Ye=function(e){var n=e.querySelectorAll("[".concat(te,"]"));return p(n).map(function(t){return D([t])}).reduce(function(t,o){return t.concat(o)},[])},pe=function(e,n){return p(e).filter(function(t){return ie(n,t)}).filter(function(t){return Pe(t)})},Y=function(e,n){return n===void 0&&(n=new Map),p(e).filter(function(t){return ce(n,t)})},$=function(e,n){return je(pe(D(e),n),!1)},$e=function(e,n){return pe(Ye(e),n)},g=function(e,n){return e.shadowRoot?g(e.shadowRoot,n):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,n)?!0:p(e.children).some(function(t){var o;if(t instanceof HTMLIFrameElement){var r=(o=t.contentDocument)===null||o===void 0?void 0:o.body;return r?g(r,n):!1}return g(t,n)})},ze=function(e){for(var n=new Set,t=e.length,o=0;o<t;o+=1)for(var r=o+1;r<t;r+=1){var u=e[o].compareDocumentPosition(e[r]);(u&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&n.add(r),(u&Node.DOCUMENT_POSITION_CONTAINS)>0&&n.add(o)}return e.filter(function(a,l){return!n.has(l)})},ye=function(e){return e.parentNode?ye(e.parentNode):e},be=function(e){var n=S(e);return n.filter(Boolean).reduce(function(t,o){var r=o.getAttribute(F);return t.push.apply(t,r?ze(p(ye(o).querySelectorAll("[".concat(F,'="').concat(r,'"]:not([').concat(ee,'="disabled"])')))):[o]),t},[])},Ke=function(e){try{return e()}catch{return}},N=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var n=e.activeElement;return n.shadowRoot?N(n.shadowRoot):n instanceof HTMLIFrameElement&&Ke(function(){return n.contentWindow.document})?N(n.contentWindow.document):n}},Qe=function(e,n){return e===n},Ze=function(e,n){return!!p(e.querySelectorAll("iframe")).some(function(t){return Qe(t,n)})},Je=function(e,n){return n===void 0&&(n=N(re(e).ownerDocument)),!n||n.dataset&&n.dataset.focusGuard?!1:be(e).some(function(t){return g(t,n)||Ze(t,n)})},Xe=function(e){e===void 0&&(e=document);var n=N(e);return n?p(e.querySelectorAll("[".concat(ne,"]"))).some(function(t){return g(t,n)}):!1},en=function(e,n){return n.filter(le).filter(function(t){return t.name===e.name}).filter(function(t){return t.checked})[0]||e},P=function(e,n){return le(e)&&e.name?en(e,n):e},nn=function(e){var n=new Set;return e.forEach(function(t){return n.add(P(t,e))}),e.filter(function(t){return n.has(t)})},z=function(e){return e[0]&&e.length>1?P(e[0],e):e[0]},K=function(e,n){return e.indexOf(P(n,e))},L="NEW_FOCUS",tn=function(e,n,t,o,r){var u=e.length,a=e[0],l=e[u-1],c=se(o);if(!(o&&e.indexOf(o)>=0)){var i=o!==void 0?t.indexOf(o):-1,h=r?t.indexOf(r):i,v=r?e.indexOf(r):-1;if(i===-1)return v!==-1?v:L;if(v===-1)return L;var m=i-h,y=t.indexOf(a),f=t.indexOf(l),s=nn(t),E=o!==void 0?s.indexOf(o):-1,A=E-(r?s.indexOf(r):i);if(!m&&v>=0||n.length===0)return v;var x=K(e,n[0]),b=K(e,n[n.length-1]);if(i<=y&&c&&Math.abs(m)>1)return b;if(i>=f&&c&&Math.abs(m)>1)return x;if(m&&Math.abs(A)>1)return v;if(i<=y)return b;if(i>f)return x;if(m)return Math.abs(m)>1?v:(u+v+m)%u}},on=function(e){return function(n){var t,o=(t=de(n))===null||t===void 0?void 0:t.autofocus;return n.autofocus||o!==void 0&&o!=="false"||e.indexOf(n)>=0}},rn=function(e,n,t){var o=e.map(function(u){var a=u.node;return a}),r=Y(o.filter(on(t)));return r&&r.length?z(r):z(Y(n))},B=function(e,n){return n===void 0&&(n=[]),n.push(e),e.parentNode&&B(e.parentNode.host||e.parentNode,n),n},I=function(e,n){for(var t=B(e),o=B(n),r=0;r<t.length;r+=1){var u=t[r];if(o.indexOf(u)>=0)return u}return!1},un=function(e,n,t){var o=S(e),r=S(n),u=o[0],a=!1;return r.filter(Boolean).forEach(function(l){a=I(a||l,l)||a,t.filter(Boolean).forEach(function(c){var i=I(u,c);i&&(!a||g(i,a)?a=i:a=I(i,a))})}),a},an=function(e,n){return e.reduce(function(t,o){return t.concat($e(o,n))},[])},cn=function(e,n){var t=new Map;return n.forEach(function(o){return t.set(o.node,o)}),e.map(function(o){return t.get(o)}).filter(Ge)},dn=function(e,n){var t=N(S(e).length>0?document:re(e).ownerDocument),o=be(e).filter(H),r=un(t||e,e,o),u=new Map,a=$(o,u),l=a.filter(function(f){var s=f.node;return H(s)});if(l[0]){var c=$([r],u).map(function(f){var s=f.node;return s}),i=cn(c,l),h=i.map(function(f){var s=f.node;return s}),v=i.filter(function(f){var s=f.tabIndex;return s>=0}).map(function(f){var s=f.node;return s}),m=tn(h,v,c,t,n);if(m===L){var y=rn(a,v,an(o,u));if(y)return{node:y};console.warn("focus-lock: cannot find any node to move focus into");return}return m===void 0?m:i[m]}},fn=function(e,n){e&&("focus"in e&&e.focus(n),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},C=0,U=!1,ln=function(e,n,t){t===void 0&&(t={});var o=dn(e,n);if(!U&&o){if(C>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),U=!0,setTimeout(function(){U=!1},1);return}C++,fn(o.node,t.focusOptions),C--}},sn=Ce;const vn=["tabIndex"],mn=["tabIndex"],bn=Q({__name:"FocusLock",props:{returnFocus:{type:Boolean},disabled:{type:Boolean},noFocusGuards:{type:[Boolean,String]},group:{}},setup(e){let n=[],t;const o=e,{returnFocus:r,disabled:u,noFocusGuards:a,group:l}=Se(o),c=V(null),i=V({disabled:!0,onActivation:()=>{}}),h=w(()=>({[sn.FOCUS_GROUP]:l.value})),v=w(()=>a.value!==!0),m=w(()=>v.value&&a.value!=="tail");Z(u,()=>{i.value.disabled=u.value,T()}),Ae(()=>{const d=q();d&&(i.value={instance:d.proxy,observed:c.value.querySelector("[data-lock]"),disabled:u.value,onActivation:()=>{t=t||document&&document.activeElement}},n.length||ge(),n.push(i.value),T())}),J(()=>{const d=q();d&&(n=n.filter(({instance:O})=>O!==d.proxy),n.length||Ee(),r.value&&t&&t.focus&&t.focus(),T())});function y(d){setTimeout(d,0)}let f=null,s=null,E=!1;const A=()=>document&&document.activeElement===document.body,x=()=>A()||Xe(),b=()=>{if(f){const{observed:d,onActivation:O}=f;(E||!x()||!s)&&(d&&!Je(d)&&(O(),ln(d,s)),E=!1,s=document&&document.activeElement)}},he=d=>d.filter(({disabled:O})=>!O).slice(-1)[0],Oe=d=>{f!==d&&(f=null),f=d,d&&(b(),y(b))},T=()=>{Oe(he(n))},R=()=>{b()},k=()=>{y(b)},G=()=>{E=!0,s=null},ge=()=>{document.addEventListener("focusin",R,!0),document.addEventListener("focusout",k),window.addEventListener("blur",G)},Ee=()=>{document.removeEventListener("focusin",R,!0),document.removeEventListener("focusout",k),window.removeEventListener("blur",G)};return(d,O)=>(_(),M("div",{ref_key:"rootEl",ref:c},[v.value?(_(),M("div",{key:0,tabIndex:W(u)?-1:0,"aria-hidden":"true"},null,8,vn)):j("",!0),Te("div",ke({onFocusout:k},h.value,{"data-lock":""}),[X(d.$slots,"default")],16),m.value?(_(),M("div",{key:1,tabIndex:W(u)?-1:0,"aria-hidden":"true"},null,8,mn)):j("",!0)],512))}});export{yn as A,bn as s};
