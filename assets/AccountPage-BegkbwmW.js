import{c as b}from"./capitalizeFirstLetter-BI0aXpN6.js";import{d as p,r as N,o as s,c as n,a,w as r,i as m,F as k,G as y,A,I as B,N as F,y as T,s as D,J as M,K as P,L as V,_ as g,e as d,h as C,t as h,O as E,D as x,C as z,b as G,g as w}from"./index-1uad0crU.js";import{A as H}from"./AppTitle-DlXLArPt.js";import{P as J}from"./PrimaryBtn-CqTWpJp3.js";import{A as K}from"./AdaptedCardList-D0nFGW-V.js";import"./MovieCard-Bbdz5bQF.js";const O={class:"tabs"},R={class:"tabs__control"},U=p({__name:"AppTabs",props:{tabs:{},checkedTab:{}},setup(_){const e=N(_.checkedTab);function i(t){e.value=t}return(t,f)=>(s(),n("div",O,[a(A,null,{default:r(()=>[m("ul",R,[(s(!0),n(k,null,y(t.tabs,(o,l)=>(s(),n("li",{class:"tabs__control-item",key:l},[a(F,{appearance:"tab","btn-name":o.btnName,checked:e.value===o.tabName,onClick:T(S=>i(o.tabName),["prevent"])},{default:r(()=>[a(D,{"icon-name":o.iconName},null,8,["icon-name"])]),_:2},1032,["btn-name","checked","onClick"])]))),128))])]),_:1}),a(B,{tag:"ul",class:"tabs__display-list"},{default:r(()=>[(s(!0),n(k,null,y(t.tabs,(o,l)=>M((s(),n("li",{class:"tabs__display",key:l},[P(t.$slots,o.tabName,{},void 0,!0)])),[[V,e.value===o.tabName]])),128))]),_:3})]))}}),j=g(U,[["__scopeId","data-v-7c5f0129"]]),q={class:"account-data"},Q={class:"account-data__cyrcle"},W={key:0,class:"account-data__icon-container"},X={key:1,class:"account-data__symbols"},Y={class:"account-data__title"},Z={class:"account-data__value"},tt=p({__name:"AccountData",props:{config:{}},setup(_){const c=_,e=d(()=>{var t;return((t=c.config)==null?void 0:t.iconName)||null}),i=d(()=>{var t;return((t=c.config)==null?void 0:t.twoSymbols)||null});return(t,f)=>(s(),n("div",q,[m("div",Q,[e.value?(s(),n("div",W,[a(D,{"icon-name":e.value},null,8,["icon-name"])])):C("",!0),i.value?(s(),n("div",X,h(i.value),1)):C("",!0)]),m("div",Y,h(t.config.title),1),m("div",Z,h(t.config.value),1)]))}}),et=g(tt,[["__scopeId","data-v-7228f617"]]),at={class:"account-settings"},st={class:"account-settings__list"},nt=p({__name:"AccountSettings",props:{configList:{},btnSpinner:{type:Boolean,default:!1}},emits:["logout"],setup(_,{emit:c}){const e=c;function i(){e("logout")}return(t,f)=>(s(),n("div",at,[m("ul",st,[(s(!0),n(k,null,y(t.configList,(o,l)=>(s(),n("li",{class:"account-settings__item",key:l},[a(et,{config:o},null,8,["config"])]))),128))]),a(J,{class:"account-settings__btn","btn-name":"Log out","bg-color":"light","show-spinner":t.btnSpinner,onClick:T(i,["prevent"])},null,8,["show-spinner"])]))}}),ot=g(nt,[["__scopeId","data-v-53c43559"]]),ct={class:"account-sec"},it=p({__name:"SectionAccount",setup(_){const c=E(),e=x(),i=z(),t=d(()=>{var $,L;const u=($=e.userData)==null?void 0:$.name,v=(L=e.userData)==null?void 0:L.surname;return u&&v?{fullName:`${b(u)} ${b(v)}`,firsLetters:`${b(u.charAt(0))}${b(v.charAt(0))}`}:{fullName:"",firsLetters:""}}),f=d(()=>{var u;return((u=e.userData)==null?void 0:u.email)||""}),o=N([{tabName:"favorite",btnName:"Favorite",iconName:"IconHeart"},{tabName:"settings",btnName:"Settings",iconName:"IconUser"}]),l=N("favorite"),S=d(()=>[{title:"Full name",value:t.value.fullName,twoSymbols:t.value.firsLetters},{title:"E-mail",value:f.value,iconName:"IconEmail"}]);async function I(){await e.fetchLogout(),c.replace({name:"MainPage"})}return(u,v)=>(s(),n("section",ct,[a(A,null,{default:r(()=>[a(H,{class:"account-sec__title",component:"h1",size:"m"},{default:r(()=>[G(" My account ")]),_:1})]),_:1}),a(j,{tabs:o.value,"checked-tab":l.value},{favorite:r(()=>[a(K,{movies:w(i).favoritesMovies,"card-appearance":"buttoned"},null,8,["movies"])]),settings:r(()=>[a(A,null,{default:r(()=>[a(ot,{"config-list":S.value,"btn-spinner":w(e).isLogoutLoading,onLogout:I},null,8,["config-list","btn-spinner"])]),_:1})]),_:1},8,["tabs","checked-tab"])]))}}),rt=g(it,[["__scopeId","data-v-98b5e6d4"]]),lt={class:"account-page"},vt=p({__name:"AccountPage",setup(_){return(c,e)=>(s(),n("main",lt,[a(rt)]))}});export{vt as default};
