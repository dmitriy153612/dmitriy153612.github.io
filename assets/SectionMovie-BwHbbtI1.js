import{d as M,m as S,k as C,e as f,r as w,n as $,q as V,o as n,f as p,w as s,a as o,i,s as y,v as D,g as T,x as L,_ as B,c as k,M as Y,b as R,t as I,h as b,y as W,T as N,z as O,B as U,C as P,D as z,A as E,p as G,j as H}from"./index-C0ETv5Xh.js";import{P as h}from"./PrimaryBtn-DuF8gYbE.js";import{A as j}from"./AppTitle-BkVB4ak2.js";import q from"./CircleBtn-C6qRaw7G.js";const J=["src"],K=M({__name:"VideoModal",props:{trailerYouTubeId:{}},emits:["close"],setup(t,{emit:_}){S(A=>({"207f0878":e.value}));const d=t,a=_,c=C(),u=f(()=>`https://www.youtube.com/embed/${d.trailerYouTubeId}?&autoplay=1&rel=0`),r=w(void 0),v=w(0),m=f(()=>c.screenWidth),e=f(()=>`${(m.value-v.value)/2}px`);function l(){a("close")}function g(){r.value&&r.value.offsetWidth&&(v.value=r.value.offsetWidth)}return $(()=>{g()}),V(()=>m.value,()=>g()),(A,de)=>(n(),p(T(L),null,{default:s(()=>[o(D,{color:"dark",type:"video",onClose:l},{default:s(()=>[i("div",{class:"video-box",ref_key:"modalEl",ref:r},[o(q,{class:"video-box__btn-close",appearance:"video",onClick:l},{default:s(()=>[o(y,{"icon-name":"IconClose"})]),_:1}),i("iframe",{class:"video-box__video",src:u.value,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,J)],512)]),_:1})]),_:1}))}}),Q=B(K,[["__scopeId","data-v-8bc1bd5b"]]),X={class:"movie-content__text"},Z={class:"movie-content__buttons-box"},x=M({__name:"MovieContent",props:{id:{},rating:{},year:{},genres:{},duration:{},title:{},text:{},trailerYouTubeId:{},isMovieLoading:{type:Boolean,default:!1},showBtnLike:{type:Boolean,default:!1},showBtnReload:{type:Boolean,default:!1},showBtnAbout:{type:Boolean,default:!0},isFavoriteMovie:{type:Boolean}},emits:["reload","toggleFavorite"],setup(t,{emit:_}){const d=t,a=C(),c=_,u=w(!1);function r(){c("toggleFavorite",d.id)}function v(e){a.setBtnOpenModal(e),u.value=!0}function m(){u.value=!1}return(e,l)=>(n(),k("div",{class:U(["movie-content",{"movie-content--section-descr":!e.showBtnAbout}])},[o(Y,{class:"movie-content__detail",rating:e.rating,year:e.year,genres:e.genres,duration:e.duration},null,8,["rating","year","genres","duration"]),o(j,{class:"movie-content__title",size:"l",component:"h1"},{default:s(()=>[R(I(e.title),1)]),_:1}),i("p",X,I(e.text),1),i("div",Z,[o(h,{class:"movie-content__btn-trailer",component:"button","btn-name":"Trailer","bg-color":"light",onClick:v}),e.showBtnAbout?(n(),p(h,{key:0,class:"movie-content__btn-about","btn-name":"About",component:"router-link","bg-color":"dark",to:{name:"MovieDetailPage",params:{id:d.id}}},null,8,["to"])):b("",!0),e.showBtnLike?(n(),p(h,{key:1,class:"movie-content__btn-like",checked:e.isFavoriteMovie,onClick:r},{replacedIcon:s(()=>[o(y,{"icon-name":"IconHeartFilled"})]),default:s(()=>[o(y,{"icon-name":"IconHeart"})]),_:1},8,["checked"])):b("",!0),e.showBtnReload?(n(),p(h,{key:2,class:"movie-content__btn-reload","show-spinner":e.isMovieLoading,"bg-color":"dark","aria-label":"show random movie",onClick:l[0]||(l[0]=W(g=>c("reload"),["prevent"]))},{default:s(()=>[o(y,{"icon-name":"IconReload"})]),_:1},8,["show-spinner"])):b("",!0)]),(n(),p(O,{to:"body"},[o(N,{name:"fade"},{default:s(()=>[u.value?(n(),p(Q,{key:0,"trailer-you-tube-id":e.trailerYouTubeId,onClose:m},null,8,["trailer-you-tube-id"])):b("",!0)]),_:1})]))],2))}}),ee=B(x,[["__scopeId","data-v-442b2447"]]),F=t=>(G("data-v-05ea068d"),t=t(),H(),t),oe={class:"movie-sec"},te={class:"movie-sec__inner"},ae={class:"movie-sec__background"},ne={class:"movie-sec__background-inner"},se={key:0,class:"movie-sec__background-inner-text"},ie=F(()=>i("div",{class:"movie-sec__min-height"},null,-1)),re=F(()=>i("div",{style:{"background-color":"red"}},null,-1)),le=M({__name:"SectionMovie",props:{id:{},title:{},rating:{},year:{},genres:{},duration:{},text:{},trailerYouTubeId:{},backgroundUrl:{},isMovieLoading:{type:Boolean,default:!1},showBtnReload:{type:Boolean},showBtnAbout:{type:Boolean}},emits:["reload"],setup(t,{emit:_}){S(e=>({"4f7603b4":r.value}));const d=P(),a=z(),c=t,u=_,r=f(()=>`url(${c.backgroundUrl})`),v=f(()=>a.isFavoriteMovie(c.id));async function m(e){v.value?(a.addOrDelFavorite(e.toString()),await d.fetchDelMovieFromFavorites(e.toString())):(a.addOrDelFavorite(e.toString()),await d.fetchAddMovieToFavorite(e.toString())),a.fetchGetUserData()}return(e,l)=>(n(),k("section",oe,[i("div",te,[i("div",ae,[i("div",ne,[e.backgroundUrl?b("",!0):(n(),k("span",se," No Poster "))])]),ie,o(E,{class:"movie-sec__container"},{default:s(()=>[o(ee,{class:"movie-sec__content",id:e.id,rating:e.rating,year:e.year,genres:e.genres,duration:e.duration,title:e.title,text:e.text,trailerYouTubeId:e.trailerYouTubeId,isMovieLoading:e.isMovieLoading,"show-btn-like":T(a).userData!==null,"show-btn-reload":e.showBtnReload,"show-btn-about":e.showBtnAbout,"is-favorite-movie":v.value,onReload:l[0]||(l[0]=g=>u("reload")),onToggleFavorite:m},null,8,["id","rating","year","genres","duration","title","text","trailerYouTubeId","isMovieLoading","show-btn-like","show-btn-reload","show-btn-about","is-favorite-movie"]),re]),_:1})])]))}}),pe=B(le,[["__scopeId","data-v-05ea068d"]]);export{pe as S};
